{
  "id": "d1f383ad-4690-490e-8101-97252cfc004a",
  "prevId": "dda9d3e5-7be0-468b-b847-9c52408d993b",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "experience_id": {
          "name": "experience_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "funnel_id": {
          "name": "funnel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "whop_user_id": {
          "name": "whop_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "membership_id": {
          "name": "membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "conversation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "current_block_id": {
          "name": "current_block_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_path": {
          "name": "user_path",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "phase2_start_time": {
          "name": "phase2_start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "conversations_experience_id_idx": {
          "name": "conversations_experience_id_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_funnel_id_idx": {
          "name": "conversations_funnel_id_idx",
          "columns": [
            {
              "expression": "funnel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_whop_user_id_idx": {
          "name": "conversations_whop_user_id_idx",
          "columns": [
            {
              "expression": "whop_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_status_idx": {
          "name": "conversations_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conversations_experience_id_experiences_id_fk": {
          "name": "conversations_experience_id_experiences_id_fk",
          "tableFrom": "conversations",
          "tableTo": "experiences",
          "columnsFrom": [
            "experience_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversations_funnel_id_funnels_id_fk": {
          "name": "conversations_funnel_id_funnels_id_fk",
          "tableFrom": "conversations",
          "tableTo": "funnels",
          "columnsFrom": [
            "funnel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_active_user_conversation": {
          "name": "unique_active_user_conversation",
          "nullsNotDistinct": false,
          "columns": [
            "experience_id",
            "whop_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.experiences": {
      "name": "experiences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "whop_experience_id": {
          "name": "whop_experience_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "whop_company_id": {
          "name": "whop_company_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "experiences_whop_experience_id_idx": {
          "name": "experiences_whop_experience_id_idx",
          "columns": [
            {
              "expression": "whop_experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "experiences_whop_company_id_idx": {
          "name": "experiences_whop_company_id_idx",
          "columns": [
            {
              "expression": "whop_company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "experiences_updated_at_idx": {
          "name": "experiences_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "experiences_whop_experience_id_unique": {
          "name": "experiences_whop_experience_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "whop_experience_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.funnel_analytics": {
      "name": "funnel_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "experience_id": {
          "name": "experience_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "funnel_id": {
          "name": "funnel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "total_starts": {
          "name": "total_starts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_intent": {
          "name": "total_intent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_conversions": {
          "name": "total_conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_affiliate_revenue": {
          "name": "total_affiliate_revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_product_revenue": {
          "name": "total_product_revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_interest": {
          "name": "total_interest",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "today_starts": {
          "name": "today_starts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "today_intent": {
          "name": "today_intent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "today_conversions": {
          "name": "today_conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "today_affiliate_revenue": {
          "name": "today_affiliate_revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "today_product_revenue": {
          "name": "today_product_revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "today_interest": {
          "name": "today_interest",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "yesterday_starts": {
          "name": "yesterday_starts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "yesterday_intent": {
          "name": "yesterday_intent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "yesterday_conversions": {
          "name": "yesterday_conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "yesterday_interest": {
          "name": "yesterday_interest",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "starts_growth_percent": {
          "name": "starts_growth_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "intent_growth_percent": {
          "name": "intent_growth_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "conversions_growth_percent": {
          "name": "conversions_growth_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "interest_growth_percent": {
          "name": "interest_growth_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "funnel_analytics_experience_id_idx": {
          "name": "funnel_analytics_experience_id_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnel_analytics_funnel_id_idx": {
          "name": "funnel_analytics_funnel_id_idx",
          "columns": [
            {
              "expression": "funnel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnel_analytics_last_updated_idx": {
          "name": "funnel_analytics_last_updated_idx",
          "columns": [
            {
              "expression": "last_updated",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnel_analytics_total_revenue_idx": {
          "name": "funnel_analytics_total_revenue_idx",
          "columns": [
            {
              "expression": "total_affiliate_revenue",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "total_product_revenue",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "funnel_analytics_experience_id_experiences_id_fk": {
          "name": "funnel_analytics_experience_id_experiences_id_fk",
          "tableFrom": "funnel_analytics",
          "tableTo": "experiences",
          "columnsFrom": [
            "experience_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "funnel_analytics_funnel_id_funnels_id_fk": {
          "name": "funnel_analytics_funnel_id_funnels_id_fk",
          "tableFrom": "funnel_analytics",
          "tableTo": "funnels",
          "columnsFrom": [
            "funnel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_funnel": {
          "name": "unique_funnel",
          "nullsNotDistinct": false,
          "columns": [
            "funnel_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.funnel_interactions": {
      "name": "funnel_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "block_id": {
          "name": "block_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "option_text": {
          "name": "option_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "next_block_id": {
          "name": "next_block_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "funnel_interactions_conversation_id_idx": {
          "name": "funnel_interactions_conversation_id_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnel_interactions_block_id_idx": {
          "name": "funnel_interactions_block_id_idx",
          "columns": [
            {
              "expression": "block_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "funnel_interactions_conversation_id_conversations_id_fk": {
          "name": "funnel_interactions_conversation_id_conversations_id_fk",
          "tableFrom": "funnel_interactions",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.funnel_resource_analytics": {
      "name": "funnel_resource_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "experience_id": {
          "name": "experience_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "funnel_id": {
          "name": "funnel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "total_resource_clicks": {
          "name": "total_resource_clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_resource_conversions": {
          "name": "total_resource_conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_resource_revenue": {
          "name": "total_resource_revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_interest": {
          "name": "total_interest",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "today_resource_clicks": {
          "name": "today_resource_clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "today_resource_conversions": {
          "name": "today_resource_conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "today_resource_revenue": {
          "name": "today_resource_revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "today_interest": {
          "name": "today_interest",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "scenario": {
          "name": "scenario",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'PRODUCT'"
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "funnel_resource_analytics_experience_id_experiences_id_fk": {
          "name": "funnel_resource_analytics_experience_id_experiences_id_fk",
          "tableFrom": "funnel_resource_analytics",
          "tableTo": "experiences",
          "columnsFrom": [
            "experience_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "funnel_resource_analytics_funnel_id_funnels_id_fk": {
          "name": "funnel_resource_analytics_funnel_id_funnels_id_fk",
          "tableFrom": "funnel_resource_analytics",
          "tableTo": "funnels",
          "columnsFrom": [
            "funnel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "funnel_resource_analytics_resource_id_resources_id_fk": {
          "name": "funnel_resource_analytics_resource_id_resources_id_fk",
          "tableFrom": "funnel_resource_analytics",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.funnel_resources": {
      "name": "funnel_resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "funnel_id": {
          "name": "funnel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "funnel_resources_funnel_id_idx": {
          "name": "funnel_resources_funnel_id_idx",
          "columns": [
            {
              "expression": "funnel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnel_resources_resource_id_idx": {
          "name": "funnel_resources_resource_id_idx",
          "columns": [
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "funnel_resources_funnel_id_funnels_id_fk": {
          "name": "funnel_resources_funnel_id_funnels_id_fk",
          "tableFrom": "funnel_resources",
          "tableTo": "funnels",
          "columnsFrom": [
            "funnel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "funnel_resources_resource_id_resources_id_fk": {
          "name": "funnel_resources_resource_id_resources_id_fk",
          "tableFrom": "funnel_resources",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_funnel_resource": {
          "name": "unique_funnel_resource",
          "nullsNotDistinct": false,
          "columns": [
            "funnel_id",
            "resource_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.funnels": {
      "name": "funnels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "experience_id": {
          "name": "experience_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "flow": {
          "name": "flow",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "visualization_state": {
          "name": "visualization_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "whop_product_id": {
          "name": "whop_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_deployed": {
          "name": "is_deployed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "was_ever_deployed": {
          "name": "was_ever_deployed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "generation_status": {
          "name": "generation_status",
          "type": "generation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "sends": {
          "name": "sends",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "funnels_experience_id_idx": {
          "name": "funnels_experience_id_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnels_user_id_idx": {
          "name": "funnels_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnels_whop_product_id_idx": {
          "name": "funnels_whop_product_id_idx",
          "columns": [
            {
              "expression": "whop_product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnels_is_deployed_idx": {
          "name": "funnels_is_deployed_idx",
          "columns": [
            {
              "expression": "is_deployed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnels_generation_status_idx": {
          "name": "funnels_generation_status_idx",
          "columns": [
            {
              "expression": "generation_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnels_visualization_state_idx": {
          "name": "funnels_visualization_state_idx",
          "columns": [
            {
              "expression": "visualization_state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "funnels_experience_user_updated_idx": {
          "name": "funnels_experience_user_updated_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnels_experience_deployed_idx": {
          "name": "funnels_experience_deployed_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_deployed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnels_experience_product_deployed_idx": {
          "name": "funnels_experience_product_deployed_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "whop_product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_deployed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "funnels_experience_id_experiences_id_fk": {
          "name": "funnels_experience_id_experiences_id_fk",
          "tableFrom": "funnels",
          "tableTo": "experiences",
          "columnsFrom": [
            "experience_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "funnels_user_id_users_id_fk": {
          "name": "funnels_user_id_users_id_fk",
          "tableFrom": "funnels",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "message_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "messages_conversation_id_idx": {
          "name": "messages_conversation_id_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_type_idx": {
          "name": "messages_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_created_at_idx": {
          "name": "messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "messages_conversation_id_conversations_id_fk": {
          "name": "messages_conversation_id_conversations_id_fk",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resources": {
      "name": "resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "experience_id": {
          "name": "experience_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "resource_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "resource_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "link": {
          "name": "link",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_product_id": {
          "name": "whop_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_app_id": {
          "name": "whop_app_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_membership_id": {
          "name": "whop_membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "resources_experience_id_idx": {
          "name": "resources_experience_id_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resources_user_id_idx": {
          "name": "resources_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resources_type_idx": {
          "name": "resources_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resources_whop_product_id_idx": {
          "name": "resources_whop_product_id_idx",
          "columns": [
            {
              "expression": "whop_product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resources_whop_app_id_idx": {
          "name": "resources_whop_app_id_idx",
          "columns": [
            {
              "expression": "whop_app_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resources_whop_membership_id_idx": {
          "name": "resources_whop_membership_id_idx",
          "columns": [
            {
              "expression": "whop_membership_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resources_experience_user_updated_idx": {
          "name": "resources_experience_user_updated_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resources_type_category_idx": {
          "name": "resources_type_category_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resources_experience_id_experiences_id_fk": {
          "name": "resources_experience_id_experiences_id_fk",
          "tableFrom": "resources",
          "tableTo": "experiences",
          "columnsFrom": [
            "experience_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resources_user_id_users_id_fk": {
          "name": "resources_user_id_users_id_fk",
          "tableFrom": "resources",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "whop_user_id": {
          "name": "whop_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "experience_id": {
          "name": "experience_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "avatar": {
          "name": "avatar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credits": {
          "name": "credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "access_level": {
          "name": "access_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'customer'"
        },
        "products_synced": {
          "name": "products_synced",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_whop_user_id_idx": {
          "name": "users_whop_user_id_idx",
          "columns": [
            {
              "expression": "whop_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_experience_id_idx": {
          "name": "users_experience_id_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_experience_updated_idx": {
          "name": "users_experience_updated_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_access_level_idx": {
          "name": "users_access_level_idx",
          "columns": [
            {
              "expression": "access_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_experience_access_level_idx": {
          "name": "users_experience_access_level_idx",
          "columns": [
            {
              "expression": "experience_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "access_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "users_experience_id_experiences_id_fk": {
          "name": "users_experience_id_experiences_id_fk",
          "tableFrom": "users",
          "tableTo": "experiences",
          "columnsFrom": [
            "experience_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_whop_user_experience_unique": {
          "name": "users_whop_user_experience_unique",
          "nullsNotDistinct": false,
          "columns": [
            "whop_user_id",
            "experience_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.conversation_status": {
      "name": "conversation_status",
      "schema": "public",
      "values": [
        "active",
        "completed",
        "closed",
        "abandoned"
      ]
    },
    "public.generation_status": {
      "name": "generation_status",
      "schema": "public",
      "values": [
        "idle",
        "generating",
        "completed",
        "failed"
      ]
    },
    "public.message_type": {
      "name": "message_type",
      "schema": "public",
      "values": [
        "user",
        "bot"
      ]
    },
    "public.resource_category": {
      "name": "resource_category",
      "schema": "public",
      "values": [
        "PAID",
        "FREE_VALUE"
      ]
    },
    "public.resource_type": {
      "name": "resource_type",
      "schema": "public",
      "values": [
        "AFFILIATE",
        "MY_PRODUCTS"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}